{"ast":null,"code":"var _jsxFileName = \"/home/ujjwal.jain/apollo-client/src/pages/Trainee/TraineeList.jsx\";\n\n/* eslint-disable no-console */\n\n/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Link, BrowserRouter as Router } from 'react-router-dom';\nimport { snackbarContext } from './../../contexts/index';\nimport { Button } from '@material-ui/core';\nimport callApi from '../../libs/utils/api';\nimport { AddDialog, WrapTable, EditDialog, DeleteDialog } from './Component/index';\nimport { trainees, getDateFormatted } from './data/trainee';\n\nconst styles = theme => ({\n  root: {\n    marginLeft: theme.spacing(140)\n  }\n});\n\nclass TraineeList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickOpen = () => {\n      this.setState({\n        open: true\n      });\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        open: false\n      });\n    };\n\n    this.handleSort = field => event => {\n      const {\n        order\n      } = this.state;\n      this.setState({\n        orderBy: field,\n        order: order === 'asc' ? 'desc' : 'asc'\n      });\n    };\n\n    this.handleSelect = element => event => {\n      this.setState({\n        traineedata: element\n      });\n    };\n\n    this.handleChangePage = (event, newPage) => {\n      this.setState({\n        page: newPage\n      });\n    };\n\n    this.handleChangeRowsPerPage = event => {\n      this.setState({\n        page: 0,\n        rowsPerPage: event.target.value\n      });\n    };\n\n    this.handleDeleteDialogOpen = element => event => {\n      this.setState({\n        RemoveOpen: true,\n        deleteData: element\n      });\n    };\n\n    this.handleRemoveClose = () => {\n      this.setState({\n        RemoveOpen: false\n      });\n    };\n\n    this.handleRemove = () => {\n      this.handleFetchData();\n      const {\n        count,\n        rowsPerPage,\n        page,\n        data\n      } = this.state;\n      const mod = count % rowsPerPage;\n\n      if (mod === 1 && data.length !== 1) {\n        this.setState({\n          page: page - 1\n        });\n      }\n\n      const {\n        deleteData\n      } = this.state;\n      this.setState({\n        RemoveOpen: false\n      });\n      console.log('DELETE ITEM');\n      console.log(deleteData);\n    };\n\n    this.handleEditDialogOpen = element => event => {\n      this.setState({\n        EditOpen: true,\n        editData: element\n      });\n    };\n\n    this.handleEditClose = () => {\n      this.setState({\n        EditOpen: false\n      });\n    };\n\n    this.handleEdit = updatedData => {\n      this.handleFetchData();\n      this.setState({\n        EditOpen: false\n      }, () => {\n        console.log('Edit Data');\n        console.log(updatedData);\n      });\n    };\n\n    this.onSubmit = addData => {\n      this.handleFetchData();\n      this.setState({\n        open: false\n      }, () => {\n        console.log(addData);\n      });\n    };\n\n    this.state = {\n      open: false,\n      EditOpen: false,\n      RemoveOpen: false,\n      loader: false,\n      orderBy: '',\n      order: 'asc',\n      traineedata: {},\n      data: [],\n      editData: {},\n      deleteData: {},\n      count: 100,\n      page: 0,\n      rowsPerPage: 10\n    };\n  }\n\n  componentDidMount() {\n    this.handleFetchData();\n  }\n\n  async handleFetchData() {\n    const token = localStorage.getItem('token');\n    this.setState({\n      loader: true\n    });\n    const response = await callApi('get', '/trainee', {\n      params: {\n        skip: 0,\n        limit: 100\n      }\n    }, {\n      headers: {\n        authorization: token,\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n\n    if (response.status === 'ok') {\n      this.setState({\n        data: response.data.records,\n        loader: false,\n        count: response.data.records.length\n      });\n    } else {\n      const value = this.context;\n      value(response.message, 'error');\n      this.setState({\n        loader: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      open,\n      orderBy,\n      order,\n      editData,\n      deleteData,\n      data,\n      page,\n      loader,\n      rowsPerPage,\n      EditOpen,\n      RemoveOpen\n    } = this.state;\n    const {\n      match: {\n        url\n      },\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      className: classes.root,\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: this.handleClickOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    }, \"ADD TRAINEELIST\"), \"\\xA0\", /*#__PURE__*/React.createElement(AddDialog, {\n      open: open,\n      onClose: this.handleClose,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(EditDialog, {\n      Editopen: EditOpen,\n      handleEditClose: this.handleEditClose,\n      handleEdit: this.handleEdit,\n      data: editData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(DeleteDialog, {\n      openRemove: RemoveOpen,\n      onClose: this.handleRemoveClose,\n      remove: this.handleRemove,\n      data: deleteData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(WrapTable, {\n      loader: loader,\n      datalength: data.length,\n      data: data,\n      column: [{\n        field: 'name',\n        label: 'Name'\n      }, {\n        field: 'email',\n        label: 'Email-Address',\n        format: value => value && value.toUpperCase()\n      }, {\n        field: 'createdAt',\n        label: 'Date',\n        align: 'right',\n        format: getDateFormatted\n      }],\n      actions: [{\n        Icon: /*#__PURE__*/React.createElement(EditIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 21\n          }\n        }),\n        handler: this.handleEditDialogOpen\n      }, {\n        Icon: /*#__PURE__*/React.createElement(DeleteIcon, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 21\n          }\n        }),\n        handler: this.handleDeleteDialogOpen\n      }],\n      onSort: this.handleSort,\n      orderBy: orderBy,\n      order: order,\n      onSelect: this.handleSelect,\n      count: data.length,\n      page: page,\n      rowsPerPage: rowsPerPage,\n      onChangePage: this.handleChangePage,\n      onChangeRowsPerPage: this.handleChangeRowsPerPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 11\n      }\n    }, trainees.map(({\n      name,\n      id\n    }) => /*#__PURE__*/React.createElement(\"li\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `${url}/${id}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 17\n      }\n    }, name))))));\n  }\n\n}\n\nTraineeList.propTypes = {\n  match: PropTypes.object.isRequired,\n  classes: PropTypes.objectOf(PropTypes.string).isRequired\n};\nexport default withStyles(styles)(TraineeList);\nTraineeList.contextType = snackbarContext;","map":{"version":3,"sources":["/home/ujjwal.jain/apollo-client/src/pages/Trainee/TraineeList.jsx"],"names":["React","PropTypes","withStyles","DeleteIcon","EditIcon","Link","BrowserRouter","Router","snackbarContext","Button","callApi","AddDialog","WrapTable","EditDialog","DeleteDialog","trainees","getDateFormatted","styles","theme","root","marginLeft","spacing","TraineeList","Component","constructor","props","handleClickOpen","setState","open","handleClose","handleSort","field","event","order","state","orderBy","handleSelect","element","traineedata","handleChangePage","newPage","page","handleChangeRowsPerPage","rowsPerPage","target","value","handleDeleteDialogOpen","RemoveOpen","deleteData","handleRemoveClose","handleRemove","handleFetchData","count","data","mod","length","console","log","handleEditDialogOpen","EditOpen","editData","handleEditClose","handleEdit","updatedData","onSubmit","addData","loader","componentDidMount","token","localStorage","getItem","response","params","skip","limit","headers","authorization","Accept","status","records","context","message","render","match","url","classes","label","format","toUpperCase","align","Icon","handler","map","name","id","propTypes","object","isRequired","objectOf","string","contextType"],"mappings":"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","sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable react/forbid-prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Link, BrowserRouter as Router } from 'react-router-dom';\nimport { snackbarContext } from './../../contexts/index';\nimport { Button } from '@material-ui/core';\nimport callApi from '../../libs/utils/api';\nimport {\n  AddDialog,\n  WrapTable,\n  EditDialog,\n  DeleteDialog,\n} from './Component/index';\nimport { trainees, getDateFormatted } from './data/trainee';\n\nconst styles = (theme) => ({\n  root: {\n    marginLeft: theme.spacing(140),\n  },\n});\nclass TraineeList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      EditOpen: false,\n      RemoveOpen: false,\n      loader: false,\n      orderBy: '',\n      order: 'asc',\n      traineedata: {},\n      data: [],\n      editData: {},\n      deleteData: {},\n      count: 100,\n      page: 0,\n      rowsPerPage: 10,\n    };\n  }\n\n  componentDidMount() {\n    this.handleFetchData();\n  }\n\n  async handleFetchData() {\n    const token = localStorage.getItem('token');\n    this.setState({\n      loader: true,\n    });\n    const response = await callApi(\n      'get',\n      '/trainee',\n      {\n        params: {\n          skip: 0,\n          limit: 100,\n        },\n      },\n      {\n        headers: {\n          authorization: token,\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      }\n    );\n    if (response.status === 'ok') {\n      this.setState({\n        data: response.data.records,\n        loader: false,\n        count: response.data.records.length,\n      });\n    } else {\n      const value = this.context;\n      value(response.message, 'error');\n      this.setState({\n        loader: false,\n      });\n    }\n  }\n  handleClickOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleClose = () => {\n    this.setState({ open: false });\n  };\n\n  handleSort = (field) => (event) => {\n    const { order } = this.state;\n    this.setState({\n      orderBy: field,\n      order: order === 'asc' ? 'desc' : 'asc',\n    });\n  };\n\n  handleSelect = (element) => (event) => {\n    this.setState({\n      traineedata: element,\n    });\n  };\n\n  handleChangePage = (event, newPage) => {\n    this.setState({\n      page: newPage,\n    });\n  };\n\n  handleChangeRowsPerPage = (event) => {\n    this.setState({\n      page: 0,\n      rowsPerPage: event.target.value,\n    });\n  };\n\n  handleDeleteDialogOpen = (element) => (event) => {\n    this.setState({\n      RemoveOpen: true,\n      deleteData: element,\n    });\n  };\n\n  handleRemoveClose = () => {\n    this.setState({\n      RemoveOpen: false,\n    });\n  };\n\n  handleRemove = () => {\n    this.handleFetchData();\n    const { count, rowsPerPage, page, data } = this.state;\n    const mod = count % rowsPerPage;\n    if (mod === 1 && data.length !== 1) {\n      this.setState({\n        page: page - 1,\n      });\n    }\n    const { deleteData } = this.state;\n    this.setState({\n      RemoveOpen: false,\n    });\n    console.log('DELETE ITEM');\n    console.log(deleteData);\n  };\n\n  handleEditDialogOpen = (element) => (event) => {\n    this.setState({\n      EditOpen: true,\n      editData: element,\n    });\n  };\n\n  handleEditClose = () => {\n    this.setState({\n      EditOpen: false,\n    });\n  };\n\n  handleEdit = (updatedData) => {\n    this.handleFetchData();\n    this.setState(\n      {\n        EditOpen: false,\n      },\n      () => {\n        console.log('Edit Data');\n        console.log(updatedData);\n      }\n    );\n  };\n\n  onSubmit = (addData) => {\n    this.handleFetchData();\n    this.setState(\n      {\n        open: false,\n      },\n      () => {\n        console.log(addData);\n      }\n    );\n  };\n\n  render() {\n    const {\n      open,\n      orderBy,\n      order,\n      editData,\n      deleteData,\n      data,\n      page,\n      loader,\n      rowsPerPage,\n      EditOpen,\n      RemoveOpen,\n    } = this.state;\n    const {\n      match: { url },\n      classes,\n    } = this.props;\n    return (\n      <>\n        <Button\n          className={classes.root}\n          variant='outlined'\n          color='primary'\n          onClick={this.handleClickOpen}\n        >\n          ADD TRAINEELIST\n        </Button>\n        &nbsp;\n        <AddDialog\n          open={open}\n          onClose={this.handleClose}\n          onSubmit={this.onSubmit}\n        />\n        <EditDialog\n          Editopen={EditOpen}\n          handleEditClose={this.handleEditClose}\n          handleEdit={this.handleEdit}\n          data={editData}\n        />\n        <DeleteDialog\n          openRemove={RemoveOpen}\n          onClose={this.handleRemoveClose}\n          remove={this.handleRemove}\n          data={deleteData}\n        />\n        <WrapTable\n          loader={loader}\n          datalength={data.length}\n          data={data}\n          column={[\n            {\n              field: 'name',\n              label: 'Name',\n            },\n            {\n              field: 'email',\n              label: 'Email-Address',\n              format: (value) => value && value.toUpperCase(),\n            },\n            {\n              field: 'createdAt',\n              label: 'Date',\n              align: 'right',\n              format: getDateFormatted,\n            },\n          ]}\n          actions={[\n            {\n              Icon: <EditIcon />,\n              handler: this.handleEditDialogOpen,\n            },\n            {\n              Icon: <DeleteIcon />,\n              handler: this.handleDeleteDialogOpen,\n            },\n          ]}\n          onSort={this.handleSort}\n          orderBy={orderBy}\n          order={order}\n          onSelect={this.handleSelect}\n          count={data.length}\n          page={page}\n          rowsPerPage={rowsPerPage}\n          onChangePage={this.handleChangePage}\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\n        />\n        <Router>\n          <ul>\n            {trainees.map(({ name, id }) => (\n              <li key={id}>\n                <Link to={`${url}/${id}`}>{name}</Link>\n              </li>\n            ))}\n          </ul>\n        </Router>\n      </>\n    );\n  }\n}\nTraineeList.propTypes = {\n  match: PropTypes.object.isRequired,\n  classes: PropTypes.objectOf(PropTypes.string).isRequired,\n};\nexport default withStyles(styles)(TraineeList);\nTraineeList.contextType = snackbarContext;\n"]},"metadata":{},"sourceType":"module"}